"use strict";function e(){const e=document.getElementsByClassName(E);if(1!==e.length)return;const o=e[0];if(o.classList.contains(g))return;const i=document.getElementsByClassName(x);if(1===i.length){if(void 0===I){I=document.createElement("div"),I.classList.add(...H);for(const[e,t]of Object.entries(z))I.setAttribute(e,t)}A=i[0],t(),I.addEventListener("click",n),A.style.transition="width 0.3s ease-in-out",o.appendChild(I),document.body.classList.contains(T)||(document.addEventListener("keydown",a),document.body.classList.add(T)),o.classList.add(g),N=!0}}async function t(){"1"===await l()?o():i()}function n(){I.classList.contains(y)?i():o()}function o(){if(I.classList.add(y),I.innerHTML=$,A.style.width=R,!A.classList.contains(O)){const e=A.parentElement.parentElement,t=document.createElement("div");t.appendChild(A),e.appendChild(t),A.addEventListener("mouseenter",s),A.addEventListener("mouseleave",c),A.classList.add(O)}d("1")}function i(){I.classList.remove(y),I.innerHTML=W,A.style.width="";const e=A.parentElement.parentElement;for(;e.childElementCount>1;)e.removeChild(e.lastChild);A.removeEventListener("mouseenter",s),A.removeEventListener("mouseleave",c),A.classList.remove(O),d("0")}function s(e){j=setTimeout(()=>{e.target.style.width=""},100)}function c(e){clearTimeout(j),j=void 0,e.target.style.width=R}function a(t){if(t.ctrlKey)return"L"===t.key?void e():"l"===t.key?void n():"w"===t.key?void window.close():void 0}function r(){const e=location.pathname.split("/");return""===e[e.length-1]&&e.pop(),e.length<=2?null:(e.pop(),/^\d+$/.test(e[e.length-1])?location.protocol+"//"+location.host+e.join("/"):null)}async function l(){const e=r();if(null===e)return null;const t=await L.match(e);return void 0===t?null:await t.text()}function d(e){const t=r();null!==t&&L.put(t,new Response(e))}function u(){L.keys().then(e=>{for(const t of e)L.delete(t)})}function v(e,t){const n=document.getElementsByClassName(e);if(1!==n.length)throw new ReferenceError(`Incorrect window ${t}`);return n[0]}function f(){e(),w(),p()}function m(){e()}function h(){const e=v(x,"sidebar");void 0!==J&&J.disconnect(),J=new MutationObserver(f),J.observe(e,B)}function p(){const e=v(C,"right side");void 0!==P&&P.disconnect(),P=new MutationObserver(m),P.observe(e,B)}function w(){const e=v(M,"combined");void 0!==S&&S.disconnect(),S=new MutationObserver(m),S.observe(e,B)}var b=void 0,L=void 0,y="hide-side",g="hide-sidebar-init",E="toolbar-1t6TWx",k="wrapper-1Rf91z",x="sidebar-2K8pFh",C="chat-3bRxxu",M="content-98HsJk",T="key-el",O="sidebar-el",H=["iconWrapper-2OrFZ1","clickable-3rdHwn","focusable-1YV_-H"],z={role:"button","aria-label":"Toggle Sidebar",tabindex:"0"},B={childList:!0},R="20px",N=!1,j=void 0,F='<svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="',K='"></path></svg>',W=F+"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"+K,$=F+"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"+K,A=void 0,I=void 0,J=void 0,P=void 0,S=void 0,V=e=>new Promise(t=>setTimeout(t,e));(async()=>{for(b=await navigator.storage.persist(),b||console.log("%cOh no no save","color:red;font-size:96px;-webkit-text-stroke:2px yellow;"),L=await caches.open(y);!N;)await V(1e3),e();h(),w(),p()})();