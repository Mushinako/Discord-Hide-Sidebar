"use strict";function e(){const e=document.getElementsByClassName(C);if(1!==e.length)return;const i=e[0];if(i.classList.contains(g))return;const o=document.getElementsByClassName(k);if(1===o.length){if(void 0===P){P=document.createElement("div"),P.classList.add(...z);for(const[e,t]of Object.entries(H))P.setAttribute(e,t)}J=o[0],t(),P.addEventListener("click",n),J.style.transition=`width ${_}s ease-in-out`,i.appendChild(P),document.body.classList.contains(B)||(document.addEventListener("keydown",c),document.body.classList.add(B)),i.classList.add(g),$=!0}}async function t(){!0!==K&&(K=!0,"1"===await l()?i():o(),K=!1)}function n(){!0!==K&&(K=!0,P.classList.contains(E)?o():i(),K=!1)}function i(){if(a("1"),void 0===P||void 0===J)return;if(P.classList.add(E),P.innerHTML=A,J.style.width=I,J.style.height=N,J.classList.contains(O))return;const e=document.createElement("div");e.style.width=I;const t=J.parentElement.parentElement,n=document.createElement("div");setTimeout(()=>{J.parentElement.insertBefore(e,J),n.appendChild(J),n.style.position="absolute",n.style.zIndex="2",t.appendChild(n),J.addEventListener("mouseenter",s),J.addEventListener("mouseleave",r),J.classList.add(O)},q)}function o(){if(a("0"),void 0===P||void 0===J)return;if(P.classList.remove(E),P.innerHTML=j,!J.classList.contains(O))return void(J.style.width="");const e=J.parentElement.parentElement,t=e.children[e.childElementCount-2];if(2!==t.childElementCount)throw new ReferenceError("Invalid showSide parent");t.removeChild(t.firstChild),t.insertBefore(J,t.firstChild),setTimeout(()=>{J.style.width="",J.style.height=""},100),J.removeEventListener("mouseenter",s),J.removeEventListener("mouseleave",r),J.classList.remove(O),e.childElementCount>1&&e.removeChild(e.lastChild)}function s(e){F=setTimeout(()=>{e.target.style.width=""},100)}function r(e){clearTimeout(F),F=void 0,e.target.style.width=I}function c(t){if(t.ctrlKey)return"L"===t.key?void e():"l"===t.key?void n():"w"===t.key?void window.close():void 0}function d(){const e=location.pathname.split("/");return e.length<3?null:e[2]===L||/^\d+$/.test(e[2])?"/"+e[2]:null}async function l(){const e=d();if(null===e)return null;const t=await b.match(e);return void 0===t?null:await t.text()}function a(e){const t=d();null!==t&&b.put(t,new Response(e))}function u(){b.keys().then(e=>{for(const t of e)b.delete(t)})}function v(e,t){const n=document.getElementsByClassName(e);if(1!==n.length)throw new ReferenceError(`Incorrect window ${t}`);return n[0]}function h(){e(),p(),w()}function m(){e()}function f(){const e=v(k,"sidebar");void 0!==V&&V.disconnect(),V=new MutationObserver(h),V.observe(e,R)}function w(){try{var e=v(T,"right side")}catch(e){return}void 0!==Y&&Y.disconnect(),Y=new MutationObserver(m),Y.observe(e,R)}function p(){const e=v(M,"combined");void 0!==Z&&Z.disconnect(),Z=new MutationObserver(m),Z.observe(e,R)}var y=void 0,b=void 0,L="@me",E="hide-side",g="hide-sidebar-init",C="toolbar-1t6TWx",x="wrapper-1Rf91z",k="sidebar-2K8pFh",T="chat-3bRxxu",M="content-98HsJk",B="key-el",O="sidebar-el",z=["iconWrapper-2OrFZ1","clickable-3rdHwn","focusable-1YV_-H"],H={role:"button","aria-label":"Toggle Sidebar",tabindex:"0"},R={childList:!0},I="20px",N="calc(100vh - 22px)",$=!1,F=void 0,K=!1,S='<svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="',W='"></path></svg>',j=S+"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"+W,A=S+"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"+W,J=void 0,P=void 0,V=void 0,Y=void 0,Z=void 0,_=.2,q=1e3*_,D=e=>new Promise(t=>setTimeout(t,e));(async()=>{for(y=await navigator.storage.persist(),y||console.log("%cOh no no save","color:red;font-size:96px;-webkit-text-stroke:2px yellow;"),b=await caches.open(E);!$;)await D(1e3),e();f(),p(),w()})();