"use strict";function e(){const e=document.getElementsByClassName(C);if(1!==e.length)return;const i=e[0];if(i.classList.contains(g))return;const o=document.getElementsByClassName(k);if(1===o.length){if(void 0===J){J=document.createElement("div"),J.classList.add(...R);for(const[e,t]of Object.entries(z))J.setAttribute(e,t)}A=o[0],t(),J.addEventListener("click",n),A.style.transition=`width ${Z}s ease-in-out`,i.appendChild(J),document.body.classList.contains(B)||(document.addEventListener("keydown",c),document.body.classList.add(B)),i.classList.add(g),S=!0}}async function t(){"1"===await l()?i():o()}function n(){J.classList.contains(E)?o():i()}function i(){if(a("1"),void 0===J||void 0===A)return;if(J.classList.add(E),J.innerHTML=j,A.style.width=I,A.style.height=N,A.classList.contains(O))return;const e=document.createElement("div");e.style.width=I;const t=A.parentElement.parentElement,n=document.createElement("div");setTimeout(()=>{A.parentElement.insertBefore(e,A),n.appendChild(A),n.style.position="absolute",n.style.zIndex="2",t.appendChild(n),A.addEventListener("mouseenter",s),A.addEventListener("mouseleave",r),A.classList.add(O)},_)}function o(){if(a("0"),void 0===J||void 0===A)return;if(J.classList.remove(E),J.innerHTML=W,!A.classList.contains(O))return void(A.style.width="");const e=A.parentElement.parentElement;if(e.childElementCount>2)throw new ReferenceError("Invalid showSide parent parent");const t=e.firstChild;if(2!==t.childElementCount)throw new ReferenceError("Invalid showSide parent");t.removeChild(t.firstChild),t.insertBefore(A,t.firstChild),setTimeout(()=>{A.style.width="",A.style.height=""},100),A.removeEventListener("mouseenter",s),A.removeEventListener("mouseleave",r),A.classList.remove(O),2===e.childElementCount&&e.removeChild(e.lastChild)}function s(e){$=setTimeout(()=>{e.target.style.width=""},100)}function r(e){clearTimeout($),$=void 0,e.target.style.width=I}function c(t){if(t.ctrlKey)return"L"===t.key?void e():"l"===t.key?void n():"w"===t.key?void window.close():void 0}function d(){const e=location.pathname.split("/");return e.length<3?null:e[2]===L||/^\d+$/.test(e[2])?"/"+e[2]:null}async function l(){const e=d();if(null===e)return null;const t=await b.match(e);return void 0===t?null:await t.text()}function a(e){const t=d();null!==t&&b.put(t,new Response(e))}function u(){b.keys().then(e=>{for(const t of e)b.delete(t)})}function v(e,t){const n=document.getElementsByClassName(e);if(1!==n.length)throw new ReferenceError(`Incorrect window ${t}`);return n[0]}function h(){e(),p(),w()}function f(){e()}function m(){const e=v(k,"sidebar");void 0!==P&&P.disconnect(),P=new MutationObserver(h),P.observe(e,H)}function w(){const e=v(T,"right side");void 0!==V&&V.disconnect(),V=new MutationObserver(f),V.observe(e,H)}function p(){const e=v(M,"combined");void 0!==Y&&Y.disconnect(),Y=new MutationObserver(f),Y.observe(e,H)}var y=void 0,b=void 0,L="@me",E="hide-side",g="hide-sidebar-init",C="toolbar-1t6TWx",x="wrapper-1Rf91z",k="sidebar-2K8pFh",T="chat-3bRxxu",M="content-98HsJk",B="key-el",O="sidebar-el",R=["iconWrapper-2OrFZ1","clickable-3rdHwn","focusable-1YV_-H"],z={role:"button","aria-label":"Toggle Sidebar",tabindex:"0"},H={childList:!0},I="20px",N="calc(100vh - 22px)",S=!1,$=void 0,F='<svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="',K='"></path></svg>',W=F+"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"+K,j=F+"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"+K,A=void 0,J=void 0,P=void 0,V=void 0,Y=void 0,Z=.2,_=1e3*Z,q=e=>new Promise(t=>setTimeout(t,e));(async()=>{for(y=await navigator.storage.persist(),y||console.log("%cOh no no save","color:red;font-size:96px;-webkit-text-stroke:2px yellow;"),b=await caches.open(E);!S;)await q(1e3),e();m(),p(),w()})();