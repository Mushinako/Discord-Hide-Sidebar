"use strict";function e(){const e=document.getElementsByClassName(k);if(1!==e.length)return;const i=e[0];if(i.classList.contains(C))return;const o=document.getElementsByClassName(T);if(1===o.length){if(void 0===J){J=document.createElement("div"),J.classList.add(...R);for(const[e,t]of Object.entries(z))J.setAttribute(e,t)}D=o[0],t(),J.addEventListener("click",n),D.style.transition=`width ${_}s ease-in-out`,i.appendChild(J),document.body.classList.contains(H)||(document.addEventListener("keydown",r),document.body.classList.add(H)),i.classList.add(C),$=!0}}async function t(){!0!==P&&(P=!0,"1"===await a()?i():o(),P=!1)}function n(){!0!==P&&(P=!0,J.classList.contains(g)?o():i(),P=!1)}function i(){if(u("1"),void 0===J||void 0===D)return;if(J.classList.add(g),J.innerHTML=A,D.style.width=N,D.style.height=K,D.classList.contains(O))return;const e=document.createElement("div");e.style.width=N;const t=D.parentElement.parentElement,n=document.createElement("div");setTimeout(()=>{D.parentElement.insertBefore(e,D),n.appendChild(D),n.style.position="absolute",n.style.zIndex="2",t.appendChild(n),D.addEventListener("mouseenter",s),D.addEventListener("mouseleave",l),D.classList.add(O)},q)}function o(){if(u("0"),void 0===J||void 0===D)return;if(J.classList.remove(g),J.innerHTML=j,!D.classList.contains(O))return void(D.style.width="");const e=D.parentElement.parentElement,t=e.children[e.childElementCount-2];if(2!==t.childElementCount)throw new ReferenceError("Invalid showSide parent");t.removeChild(t.firstElementChild),t.insertBefore(D,t.firstElementChild),setTimeout(()=>{D.style.width="",D.style.height=""},100),D.removeEventListener("mouseenter",s),D.removeEventListener("mouseleave",l),D.classList.remove(O),e.childElementCount>1&&e.removeChild(e.lastElementChild)}function s(e){F=setTimeout(()=>{e.target.style.width=""},100)}function l(e){clearTimeout(F),F=void 0,e.target.style.width=N}function r(t){return t.ctrlKey?"L"===t.key?void e():"l"===t.key?void n():"w"===t.key?void window.close():void 0:t.altKey&&"PageDown"===t.key?void c():void 0}function c(){const e=document.getElementsByClassName(B);if(1!==e.length)throw ReferenceError("Invalid right side div");const t=e[0],n=t.lastElementChild.firstElementChild.firstElementChild.lastElementChild,i={top:n.scrollHeight,left:n.scrollLeft,behavior:"smooth"};n.scrollTo(i)}function d(){const e=location.pathname.split("/");return e.length<3?null:e[2]===L||/^\d+$/.test(e[2])?"/"+e[2]:null}async function a(){const e=d();if(null===e)return null;const t=await b.match(e);return void 0===t?null:await t.text()}function u(e){const t=d();null!==t&&b.put(t,new Response(e))}function v(){b.keys().then(e=>{for(const t of e)b.delete(t)})}function h(e,t){const n=document.getElementsByClassName(e);if(1!==n.length)throw new ReferenceError(`Incorrect window ${t}`);return n[0]}function m(){e(),y(),p()}function f(){e()}function w(){const e=h(T,"sidebar");void 0!==V&&V.disconnect(),V=new MutationObserver(m),V.observe(e,I)}function p(){try{var e=h(B,"right side")}catch(e){return}void 0!==Y&&Y.disconnect(),Y=new MutationObserver(f),Y.observe(e,I)}function y(){const e=h(M,"combined");void 0!==Z&&Z.disconnect(),Z=new MutationObserver(f),Z.observe(e,I)}var E=void 0,b=void 0,L="@me",g="hide-side",C="hide-sidebar-init",k="toolbar-1t6TWx",x="wrapper-1Rf91z",T="sidebar-2K8pFh",B="chat-3bRxxu",M="content-98HsJk",H="key-el",O="sidebar-el",R=["iconWrapper-2OrFZ1","clickable-3rdHwn","focusable-1YV_-H"],z={role:"button","aria-label":"Toggle Sidebar",tabindex:"0"},I={childList:!0},N="20px",K="calc(100vh - 22px)",$=!1,F=void 0,P=!1,S='<svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="',W='"></path></svg>',j=S+"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"+W,A=S+"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"+W,D=void 0,J=void 0,V=void 0,Y=void 0,Z=void 0,_=.2,q=1e3*_,G=e=>new Promise(t=>setTimeout(t,e));(async()=>{for(E=await navigator.storage.persist(),E||console.log("%cOh no no save","color:red;font-size:96px;-webkit-text-stroke:2px yellow;"),b=await caches.open(g);!$;)await G(1e3),e();w(),y(),p()})();